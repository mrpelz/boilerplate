image: node:latest

cache:
  paths:
    - node_modules/

stages:
  - preparation
  - checking
  - transforming
  - publishing

install dependencies:
  script:
    - npm install
  stage: preparation

latest commit message:
  script:
    - make check_commit
  stage: checking

package.json sort:
  script:
    - make check_package-json-sort
  stage: checking

lint:
  script:
    - make check_lint
  stage: checking

config:
  script:
    - make check_config
  stage: checking

typescript:
  script:
    - make check_typescript
  stage: checking

test:
  script:
    - make check_test
  stage: checking
